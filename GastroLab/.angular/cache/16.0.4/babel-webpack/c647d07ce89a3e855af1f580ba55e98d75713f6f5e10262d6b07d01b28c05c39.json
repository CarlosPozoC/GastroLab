{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../apiservice.service\";\nimport * as i2 from \"@angular/router\";\nclass RecetasComponent {\n  constructor(apiservice, router) {\n    this.apiservice = apiservice;\n    this.router = router;\n    this.recetas = [];\n    this.mostrarPestanaCreacion = false;\n  }\n  ngOnInit() {\n    this.obtenerRecetas();\n  }\n  obtenerRecetas() {\n    this.apiService.obtenerRecetas().subscribe(data => {\n      this.recetas = data;\n    }, error => {\n      console.error('Error al obtener las recetas:', error);\n    });\n  }\n  abrirPestanaCreacion() {\n    this.mostrarPestanaCreacion = true;\n  }\n  cerrarPestanaCreacion() {\n    this.mostrarPestanaCreacion = false;\n  }\n  crearReceta(form) {\n    if (form.valid) {\n      const nuevaReceta = {\n        id: 0,\n        nombre: form.value.nombre,\n        descripcion: form.value.descripcion,\n        tipo: form.value.tipo\n      };\n      this.apiService.crearReceta(nuevaReceta).subscribe(data => {\n        console.log('Receta creada exitosamente:', data);\n        this.cerrarPestanaCreacion();\n        this.obtenerRecetas();\n        // Recargar la página\n        location.reload();\n      }, error => {\n        console.error('Error al crear la receta:', error);\n      });\n    }\n  }\n}\nRecetasComponent.ɵfac = function RecetasComponent_Factory(t) {\n  return new (t || RecetasComponent)(i0.ɵɵdirectiveInject(i1.apiservice), i0.ɵɵdirectiveInject(i2.Router));\n};\nRecetasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RecetasComponent,\n  selectors: [[\"app-recetas\"]],\n  decls: 2,\n  vars: 0,\n  template: function RecetasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"recetas works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { RecetasComponent };","map":{"version":3,"names":["RecetasComponent","constructor","apiservice","router","recetas","mostrarPestanaCreacion","ngOnInit","obtenerRecetas","apiService","subscribe","data","error","console","abrirPestanaCreacion","cerrarPestanaCreacion","crearReceta","form","valid","nuevaReceta","id","nombre","value","descripcion","tipo","log","location","reload","i0","ɵɵdirectiveInject","i1","i2","Router","selectors","decls","vars","template","RecetasComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\cpozo\\OneDrive\\Escritorio\\TFG\\GastroLab\\GastroLab\\src\\app\\recetas\\recetas.component.ts","C:\\Users\\cpozo\\OneDrive\\Escritorio\\TFG\\GastroLab\\GastroLab\\src\\app\\recetas\\recetas.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { apiservice } from '../apiservice.service';\nimport { Receta } from '../interfaces/receta.interface';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-recetas',\n  templateUrl: './recetas.component.html',\n  styleUrls: ['./recetas.component.css']\n})\nexport class RecetasComponent implements OnInit {\n  recetas: Receta[] = [];\n  mostrarPestanaCreacion = false;\n\n  constructor(private apiservice: apiservice, private router: Router) {}\n\n  ngOnInit(): void {\n    this.obtenerRecetas();\n  }\n\n  obtenerRecetas(): void {\n    this.apiService.obtenerRecetas().subscribe(\n      (data: Receta[]) => {\n        this.recetas = data;\n      },\n      (error: any) => {\n        console.error('Error al obtener las recetas:', error);\n      }\n    );\n  }\n\n  abrirPestanaCreacion(): void {\n    this.mostrarPestanaCreacion = true;\n  }\n\n  cerrarPestanaCreacion(): void {\n    this.mostrarPestanaCreacion = false;\n  }\n\n  crearReceta(form: any): void {\n    if (form.valid) {\n      const nuevaReceta: Receta = {\n        id: 0,\n        nombre: form.value.nombre,\n        descripcion: form.value.descripcion,\n        tipo: form.value.tipo\n      };\n\n      this.apiService.crearReceta(nuevaReceta).subscribe(\n        (data: any) => {\n          console.log('Receta creada exitosamente:', data);\n          this.cerrarPestanaCreacion();\n          this.obtenerRecetas();\n          // Recargar la página\n          location.reload();\n        },\n        (error: any) => {\n          console.error('Error al crear la receta:', error);\n        }\n      );\n    }\n  }\n}\n","<p>recetas works!</p>\n"],"mappings":";;;AAKA,MAKaA,gBAAgB;EAI3BC,YAAoBC,UAAsB,EAAUC,MAAc;IAA9C,KAAAD,UAAU,GAAVA,UAAU;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAH1D,KAAAC,OAAO,GAAa,EAAE;IACtB,KAAAC,sBAAsB,GAAG,KAAK;EAEuC;EAErEC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAcA,CAAA;IACZ,IAAI,CAACC,UAAU,CAACD,cAAc,EAAE,CAACE,SAAS,CACvCC,IAAc,IAAI;MACjB,IAAI,CAACN,OAAO,GAAGM,IAAI;IACrB,CAAC,EACAC,KAAU,IAAI;MACbC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD,CAAC,CACF;EACH;EAEAE,oBAAoBA,CAAA;IAClB,IAAI,CAACR,sBAAsB,GAAG,IAAI;EACpC;EAEAS,qBAAqBA,CAAA;IACnB,IAAI,CAACT,sBAAsB,GAAG,KAAK;EACrC;EAEAU,WAAWA,CAACC,IAAS;IACnB,IAAIA,IAAI,CAACC,KAAK,EAAE;MACd,MAAMC,WAAW,GAAW;QAC1BC,EAAE,EAAE,CAAC;QACLC,MAAM,EAAEJ,IAAI,CAACK,KAAK,CAACD,MAAM;QACzBE,WAAW,EAAEN,IAAI,CAACK,KAAK,CAACC,WAAW;QACnCC,IAAI,EAAEP,IAAI,CAACK,KAAK,CAACE;OAClB;MAED,IAAI,CAACf,UAAU,CAACO,WAAW,CAACG,WAAW,CAAC,CAACT,SAAS,CAC/CC,IAAS,IAAI;QACZE,OAAO,CAACY,GAAG,CAAC,6BAA6B,EAAEd,IAAI,CAAC;QAChD,IAAI,CAACI,qBAAqB,EAAE;QAC5B,IAAI,CAACP,cAAc,EAAE;QACrB;QACAkB,QAAQ,CAACC,MAAM,EAAE;MACnB,CAAC,EACAf,KAAU,IAAI;QACbC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,CACF;;EAEL;;AAnDWX,gBAAgB,C;mBAAhBA,gBAAgB,EAAA2B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAA3B,UAAA,GAAAyB,EAAA,CAAAC,iBAAA,CAAAE,EAAA,CAAAC,MAAA;AAAA;AAAhB/B,gBAAgB,C;QAAhBA,gBAAgB;EAAAgC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV7BV,EAAA,CAAAY,cAAA,QAAG;MAAAZ,EAAA,CAAAa,MAAA,qBAAc;MAAAb,EAAA,CAAAc,YAAA,EAAI;;;;;SDURzC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}